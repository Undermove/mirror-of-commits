<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>🪦 Open Source Resurrection Machine</title>
<style>
body {
  background: radial-gradient(circle at center, #0b0b0b, #000);
  color: #eee;
  font-family: 'Courier New', monospace;
  text-align: center;
  padding: 40px;
}
h1 { color: #00ff99; text-shadow: 0 0 10px #00ff99; }
button {
  background: #111;
  color: #00ff99;
  border: 1px solid #00ff99;
  padding: 10px 25px;
  font-size: 1.1rem;
  cursor: pointer;
  margin-top: 20px;
  transition: 0.2s;
}
button:hover { background: #00ff99; color: #000; }
#slots {
  display: flex; justify-content: center;
  gap: 20px; margin-top: 30px;
}
.slot {
  width: 240px; height: 160px;
  background: rgba(255,255,255,0.05);
  border: 1px solid #333;
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 0 10px #111;
}
a { color: #00ffaa; text-decoration: none; }
a:hover { text-decoration: underline; }
#msg { margin-top: 30px; opacity: 0.7; }
</style>
</head>
<body>
<h1>🪦 The Open Source Resurrection Machine</h1>
<p>Find forgotten projects... and give them a star ⭐</p>
<div id="slots">
  <div class="slot">🕳</div>
  <div class="slot">🕳</div>
  <div class="slot">🕳</div>
</div>
<button id="spin">🎰 SPIN</button>
<div id="msg"></div>

<script>
async function spin() {
  document.getElementById("msg").innerText = "Summoning old souls...";
  const page = Math.floor(Math.random() * 20) + 1;
  const url = `https://api.github.com/search/repositories?q=stars:<10+pushed:<2020-01-01&sort=updated&order=asc&per_page=3&page=${page}`;
  try {
    const resp = await fetch(url);
    const data = await resp.json();
    const slots = document.querySelectorAll('.slot');
    slots.forEach((slot, i) => {
      const repo = data.items[i];
      if (!repo) { slot.innerHTML = "💀 empty tomb"; return; }
      const pushed = new Date(repo.pushed_at).getFullYear();
      slot.innerHTML = `
        <h3>🪦 ${repo.name}</h3>
        <p>Last commit: ${pushed}</p>
        <p><a href="${repo.html_url}" target="_blank">Open repo ↗</a></p>
      `;
    });
    document.getElementById("msg").innerText = "✨ Bless one... make a coder smile.";
  } catch (e) {
    document.getElementById("msg").innerText = "⚠️ Spirits refused to answer.";
  }
}
document.getElementById("spin").onclick = spin;
</script>
</body>
</html>
