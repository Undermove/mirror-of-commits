<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ü´û –ó–µ—Ä–∫–∞–ª–æ –∫–æ–º–º–∏—Ç–æ–≤</title>
<style>
  body { background: radial-gradient(circle at center, #0b0b0b, #000); color: #e0e0e0; font-family: "Courier New", monospace; text-align: center; padding: 50px; }
  #mirror { border: 2px solid #666; border-radius: 15px; padding: 30px; background: rgba(255, 255, 255, 0.05); box-shadow: 0 0 20px #333; max-width: 600px; margin: 50px auto; }
  button { background: #111; color: #fff; border: 1px solid #666; border-radius: 5px; padding: 10px 20px; cursor: pointer; }
  button:hover { background: #222; }
</style>
</head>
<body>
<h1>üéÉ –ó–µ—Ä–∫–∞–ª–æ –∫–æ–º–º–∏—Ç–æ–≤</h1>
<div id="mirror">–¢—ë–º–Ω–æ–µ –∑–µ—Ä–∫–∞–ª–æ –∂–¥—ë—Ç —Ç–µ–±—è...</div>
<br />
<button onclick="see()">–ó–∞–≥–ª—è–Ω—É—Ç—å</button>
<script>
async function see() {
  const username = prompt("–í–≤–µ–¥–∏ —Å–≤–æ–π GitHub username (–Ω–∞–ø—Ä–∏–º–µ—Ä, dimaafonchenko)");
  if (!username) return;
  try {
    const resp = await fetch(`https://api.github.com/users/${username}/events/public`);
    const data = await resp.json();
    const pushEvent = data.find(e => e.type === "PushEvent");
    if (!pushEvent) {
      document.getElementById("mirror").innerHTML = "–£ –∑–µ—Ä–∫–∞–ª–∞ –Ω–µ—Ç —Ç–≤–æ–∏—Ö –∫–æ–º–º–∏—Ç–æ–≤... —Ç–∏—à–∏–Ω–∞...";
      return;
    }
    const commits = pushEvent.payload.commits.slice(-3).reverse();
    const time = new Date(pushEvent.created_at);
    const hours = String(time.getHours()).padStart(2, '0');
    const minutes = String(time.getMinutes()).padStart(2, '0');
    const messages = commits.map(c => c.message);
    let spookyText = `–¢—ã –∫–æ–º–º–∏—Ç–∏–ª –≤ ${hours}:${minutes}...`;
    spookyText += "<br>\u041F–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è: <br>";
    messages.forEach(m => { spookyText += `- \"${m}\"<br>`; });
    const phrases = [
      "–¢–µ–Ω—å —Ç–≤–æ–µ–≥–æ –∫–æ–¥–∞ –æ–∂–∏–≤–∞–µ—Ç –≤ –ø–æ–ª–Ω–æ–ª—É–Ω–∏–µ...",
      "–ü—Ä–∏–∑—Ä–∞–∫–∏ TODO —à–µ–ø—á—É—Ç —Ç–µ–±–µ —Å–Ω–æ–≤–∞...",
      "–¢—ã–∫–≤—ã —Å–º–µ—é—Ç—Å—è, –∫–æ–≥–¥–∞ —Ç–µ—Å—Ç—ã –ø–∞–¥–∞—é—Ç...",
      "–í —Ç–µ–º–Ω–æ—Ç–µ IDE —á—Ç–æ-—Ç–æ —à—É—Ä—à–∏—Ç..."
    ];
    spookyText += "<br>" + phrases[Math.floor(Math.random() * phrases.length)];
    document.getElementById("mirror").innerHTML = spookyText;
  } catch (err) {
    document.getElementById("mirror").innerHTML = "–ó–µ—Ä–∫–∞–ª–æ —Ç—Ä–µ—Å–Ω—É–ª–æ... –ø–æ–ø—Ä–æ–±—É–π –ø–æ–∑–∂–µ.";
  }
}
</script>
</body>
</html>
